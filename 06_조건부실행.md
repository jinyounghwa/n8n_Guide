# 6장: 조건부 실행 및 분기

> If, Switch를 사용한 조건부 실행 논리를 배웁니다.
> 예상 학습 시간: 1시간

## If 노드

### 기본 사용법

```
설정:
- Field: 검사할 필드명
- Operator: ==, !=, >, <, >=, <= 등
- Value: 비교값

예시:
IF age > 18
  THEN: 다음 노드1로
  ELSE: 다음 노드2로
```

### 실제 구현

```json
필드: age
연산자: >
값: 18

결과:
- TRUE 분기: 성인 처리
- FALSE 분기: 미성년자 처리
```

## Switch 노드

### 여러 조건 처리

```
완벽한 IF-ELSE-IF 구조

설정:
- Expression: 검사할 식
- Conditions:
  - Condition 1: value === 'A'
  - Condition 2: value === 'B'
  - Condition 3: value === 'C'
  - Default: 위 조건 모두 불만족
```

### 실제 사용 예

```
상태 확인: {{ $json.status }}

- 'pending' → 대기 처리 노드
- 'approved' → 승인 처리 노드
- 'rejected' → 거절 처리 노드
- default → 오류 처리 노드
```

## 실전 예시

### 예시 1: 주문 상태 확인

```
입력:
{
  "order_id": 123,
  "status": "pending",
  "amount": 50000
}

분기 로직:
IF status == "pending"
  → 승인 대기 이메일
ELSE IF status == "approved"
  → 배송 준비 메시지
ELSE IF status == "shipped"
  → 배송 중 알림
ELSE
  → 오류 처리
```

### 예시 2: 가격대별 처리

```
[Webhook]
  ↓
[Set: 가격대 확인]
  - cheap: amount < 10000
  - normal: 10000 <= amount < 100000
  - expensive: amount >= 100000
  ↓
[Switch: 가격대별]
  - cheap → 즉시 배송
  - normal → 승인 후 배송
  - expensive → 수동 검토 후 배송
```

## 복잡한 조건

### AND 조건

```javascript
// 두 조건 모두 만족
{{ $json.age > 18 && $json.verified === true }}

예시:
IF age > 18 AND verified == true
  → 게시물 작성 허용
ELSE
  → 거절
```

### OR 조건

```javascript
// 하나 이상 만족
{{ $json.status === 'premium' || $json.status === 'vip' }}

예시:
IF status == 'premium' OR status == 'vip'
  → VIP 혜택 제공
ELSE
  → 일반 혜택
```

### 중첩 조건

```javascript
// 복잡한 조건
{{ 
  ($json.age > 18 && $json.verified) ||
  ($json.admin === true)
}}

예시:
IF (age > 18 AND verified) OR admin
  → 콘텐츠 생성 허용
ELSE
  → 거절
```

## Try-Catch (에러 처리)

### 기본 구조

```
[위험한 작업]
  ↓
[Try-Catch]
  - Success: 정상 처리
  - Error: 에러 처리

예시:
Try: API 호출
  Success → 데이터 저장
  Error → 재시도 또는 알림
```

### 실제 구현

```
[HTTP Request] (오류 가능)
  ↓
[Try-Catch]
  ├─ Success → [저장]
  └─ Catch → [에러 로그] → [재시도]
```

## 체크리스트

- [ ] If 노드로 조건 분기 가능
- [ ] Switch 노드로 여러 조건 처리
- [ ] AND/OR 조건 이해
- [ ] 중첩 조건 사용 가능
- [ ] Try-Catch로 에러 처리

---

다음: [07_루프와반복.md](07_루프와반복.md)
